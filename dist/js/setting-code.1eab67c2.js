(window.webpackJsonp=window.webpackJsonp||[]).push([["setting-code","setting-code-edit","setting-code-preview","setting-code-table"],{"0458":function(e,t,n){"use strict";n.r(t);n("b0c0"),n("4e82");var r=n("7a23"),o=function(e){return Object(r.pushScopeId)("data-v-2a871063"),e=e(),Object(r.popScopeId)(),e},c=Object(r.createTextVNode)("基础信息"),a=Object(r.createTextVNode)("生成配置"),l=Object(r.createTextVNode)(" 所属模块 "),i={style:{float:"left"}},u={style:{float:"right",color:"#8492a6","font-size":"13px"}},s=Object(r.createTextVNode)(" 所属菜单 "),d=Object(r.createTextVNode)("单表（增删改查）"),b=Object(r.createTextVNode)("树表（增删改查）"),h=Object(r.createTextVNode)(" 菜单名称 "),m=Object(r.createTextVNode)(" 包名 "),f=Object(r.createTextVNode)(" 生成方式 "),p=Object(r.createTextVNode)(" 压缩包下载："),O=o((function(){return Object(r.createElementVNode)("br",null,null,-1)})),j=Object(r.createTextVNode)(" 后端文件、前端vue和菜单SQL文件会打包成压缩文件下载。"),_=o((function(){return Object(r.createElementVNode)("br",null,null,-1)})),g=o((function(){return Object(r.createElementVNode)("br",null,null,-1)})),V=Object(r.createTextVNode)(" 生成到模块："),w=o((function(){return Object(r.createElementVNode)("br",null,null,-1)})),C=Object(r.createTextVNode)(" 后端文件会直接部署到模块（覆盖原文件），前端vue文件和菜单SQL会打包下载。 "),x=Object(r.createTextVNode)("压缩包下载"),N=Object(r.createTextVNode)("生成到模块"),v=Object(r.createTextVNode)("生成类型配置"),y=Object(r.createTextVNode)(" 树主ID "),k=Object(r.createTextVNode)(" 树父ID "),T=Object(r.createTextVNode)(" 树名称 "),B={style:{"text-align":"center","margin-bottom":"20px","margin-top":"20px"}},S=Object(r.createTextVNode)("提交"),U=Object(r.createTextVNode)("关闭");var E=n("1da1"),$=(n("96cf"),{emits:["confirm"],data:function(){return{drawer:!1,activeName:"",form:{id:"",table_name:"",module_name:"",table_comment:"",menu_name:"",package_name:"",remark:"",type:"",belong_menu_id:"",namespace:"",generate_type:"",options:{},columns:[]},saveLoading:!1,rules:{table_comment:[{required:!0,message:"请填写表描述",trigger:"blur"}],module_name:[{required:!0,message:"请选择所属模块（注意对应表模块前缀）",trigger:"change"}],belong_menu_id:[{required:!0,message:"请选择所属菜单",trigger:"change"}],menu_name:[{required:!0,message:"请选择所属菜单",trigger:"blur"}]},tree_id:"",tree_parent_id:"",tree_name:"",record:null,columns:[],menus:[],dict:[],sysinfo:{},queryType:[{label:"=",value:"eq"},{label:"!=",value:"neq"},{label:">",value:"gt"},{label:">=",value:"gte"},{label:"<",value:"lt"},{label:"<=",value:"lte"},{label:"LIKE",value:"like"},{label:"BETWEEN",value:"between"}],viewComponent:[{label:"文本框",value:"text"},{label:"密码框",value:"password"},{label:"文本域",value:"textarea"},{label:"下拉框",value:"select"},{label:"单选框",value:"radio"},{label:"复选框",value:"checkbox"},{label:"日期控件",value:"date"},{label:"资源选择（含上传）",value:"selectResource"},{label:"图片上传",value:"image"},{label:"文件上传",value:"file"},{label:"富文本控件",value:"editor"}]}},methods:{handleChangeGenType:function(e){var t=this;"1"===e&&this.$confirm("生成到模块会覆盖原文件，确定使用该方式吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then().catch((function(e){t.form.generate_type="0"}))},show:function(e){var t=this;return Object(E.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.drawer=!0,t.record=e,t.activeName="config",t.setFormValue(),n.next=6,t.getTableColumns();case 6:return n.next=8,t.getSystemInfo();case 8:return n.next=10,t.getMenu();case 10:return n.next=12,t.getDictType();case 12:case"end":return n.stop()}}),n)})))()},handleClose:function(){this.drawer=!1},getMenu:function(){var e=this;this.$API.menu.tree().then((function(t){e.menus=t.data}))},getSystemInfo:function(){var e=this;this.$API.table.getSystemInfo().then((function(t){e.sysinfo=t.data}))},getDictType:function(){var e=this;this.$API.dictType.getTypeList().then((function(t){e.dict=t.data}))},getTableColumns:function(){var e=this;this.$API.generate.getTableColumns({table_id:this.record.id}).then((function(t){e.columns=t.data}))},handleSubmit:function(){var e=this;this.$refs.form.validate(function(){var t=Object(E.a)(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=9;break}return e.form.columns=e.columns,e.saveLoading=!0,"tree"==e.form.type&&(e.form.options={tree_id:e.tree_id,tree_parent_id:e.tree_parent_id,tree_name:e.tree_name}),t.next=6,e.$API.generate.update(e.form);case 6:r=t.sent,e.saveLoading=!1,r.success?(e.$emit("confirm"),e.record=null,e.$message.success(r.message),e.drawer=!1):e.$alert(r.message,"提示",{type:"error"});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},setFormValue:function(){this.form.id=this.record.id,this.form.table_name=this.record.table_name,this.form.table_comment=this.record.table_comment,this.form.module_name=this.record.module_name,this.form.menu_name=this.record.menu_name,this.form.belong_menu_id=this.record.belong_menu_id,this.form.package_name=this.record.package_name,this.form.remark=this.record.remark,this.form.type=this.record.type,this.form.generate_type=this.record.generate_type,"single"==this.form.type&&(this.form.options={}),"tree"==this.form.type&&(this.tree_id=this.record.options.tree_id,this.tree_parent_id=this.record.options.tree_parent_id,this.tree_name=this.record.options.tree_name)},hanldeChangeModule:function(e){this.form.module_name=e}}}),D=(n("6b24"),n("6b0d"));const I=n.n(D)()($,[["render",function(e,t,n,o,E,$){var D=Object(r.resolveComponent)("el-divider"),I=Object(r.resolveComponent)("el-input"),L=Object(r.resolveComponent)("el-form-item"),A=Object(r.resolveComponent)("el-col"),q=Object(r.resolveComponent)("el-row"),P=Object(r.resolveComponent)("el-icon-question-filled"),R=Object(r.resolveComponent)("el-icon"),F=Object(r.resolveComponent)("el-tooltip"),G=Object(r.resolveComponent)("el-option"),K=Object(r.resolveComponent)("el-select"),M=Object(r.resolveComponent)("el-cascader"),H=Object(r.resolveComponent)("el-radio-button"),z=Object(r.resolveComponent)("el-radio-group"),J=Object(r.resolveComponent)("el-tab-pane"),Q=Object(r.resolveComponent)("el-table-column"),Y=Object(r.resolveComponent)("el-checkbox"),W=Object(r.resolveComponent)("el-table"),X=Object(r.resolveComponent)("el-tabs"),Z=Object(r.resolveComponent)("el-button"),ee=Object(r.resolveComponent)("el-form"),te=Object(r.resolveComponent)("el-drawer");return Object(r.openBlock)(),Object(r.createBlock)(te,{title:"修改生成配置",modelValue:E.drawer,"onUpdate:modelValue":t[13]||(t[13]=function(e){return E.drawer=e}),size:"80%"},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(ee,{ref:"form",model:E.form,rules:E.rules,"label-width":"110px",class:"form"},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(X,{modelValue:E.activeName,"onUpdate:modelValue":t[12]||(t[12]=function(e){return E.activeName=e})},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(J,{label:"配置信息",name:"config"},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(D,{"content-position":"left"},{default:Object(r.withCtx)((function(){return[c]})),_:1}),Object(r.createVNode)(q,{gutter:24},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(A,{xs:24,md:12,xl:12},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(L,{label:"表名称",prop:"table_name"},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(I,{modelValue:E.form.table_name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return E.form.table_name=e}),disabled:!0},null,8,["modelValue"])]})),_:1})]})),_:1}),Object(r.createVNode)(A,{xs:24,md:12,xl:12},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(L,{label:"表描述",prop:"table_comment"},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(I,{modelValue:E.form.table_comment,"onUpdate:modelValue":t[1]||(t[1]=function(e){return E.form.table_comment=e})},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),Object(r.createVNode)(q,{gutter:0},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(A,{span:24},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(L,{label:"备注信息",prop:"remark"},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(I,{type:"textarea",rows:3,placeholder:"备注内容",modelValue:E.form.remark,"onUpdate:modelValue":t[2]||(t[2]=function(e){return E.form.remark=e})},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),Object(r.createVNode)(D,{"content-position":"left"},{default:Object(r.withCtx)((function(){return[a]})),_:1}),Object(r.createVNode)(q,{gutter:24},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(A,{xs:24,md:12,xl:12},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(L,{class:"ma-inline-form-item",prop:"module_name"},{label:Object(r.withCtx)((function(){return[l,Object(r.createVNode)(F,{content:"所属模块请对应表模块前缀，否则数据迁移文件不会被执行"},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(R,null,{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(P)]})),_:1})]})),_:1})]})),default:Object(r.withCtx)((function(){return[Object(r.createVNode)(K,{style:{width:"100%"},modelValue:E.form.module_name,"onUpdate:modelValue":t[3]||(t[3]=function(e){return E.form.module_name=e}),clearable:"",placeholder:"请选择所属模块",onChange:$.hanldeChangeModule},{default:Object(r.withCtx)((function(){return[(Object(r.openBlock)(!0),Object(r.createElementBlock)(r.Fragment,null,Object(r.renderList)(E.sysinfo.modulesList,(function(e,t){return Object(r.openBlock)(),Object(r.createBlock)(G,{label:e.name,value:e.name,key:t},{default:Object(r.withCtx)((function(){return[Object(r.createElementVNode)("span",i,Object(r.toDisplayString)(e.name),1),Object(r.createElementVNode)("span",u,Object(r.toDisplayString)(e.label),1)]})),_:2},1032,["label","value"])})),128))]})),_:1},8,["modelValue","onChange"])]})),_:1})]})),_:1}),Object(r.createVNode)(A,{xs:24,md:12,xl:12},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(L,{prop:"belong_menu_id"},{label:Object(r.withCtx)((function(){return[s,Object(r.createVNode)(F,{content:"分配业务功能在哪个菜单，例如：权限管理"},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(R,null,{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(P)]})),_:1})]})),_:1})]})),default:Object(r.withCtx)((function(){return[Object(r.createVNode)(M,{modelValue:E.form.belong_menu_id,"onUpdate:modelValue":t[4]||(t[4]=function(e){return E.form.belong_menu_id=e}),clearable:"",style:{width:"100%"},options:E.menus,props:{checkStrictly:!0}},null,8,["modelValue","options"])]})),_:1})]})),_:1})]})),_:1}),Object(r.createVNode)(q,{gutter:24},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(A,{xs:24,md:12,xl:12},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(L,{prop:"type",label:"生成类型"},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(K,{modelValue:E.form.type,"onUpdate:modelValue":t[5]||(t[5]=function(e){return E.form.type=e}),placeholder:"请选择生成类型",style:{width:"100%"}},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(G,{label:"单表（增删改查）",value:"single"},{default:Object(r.withCtx)((function(){return[d]})),_:1}),Object(r.createVNode)(G,{label:"树表（增删改查）",value:"tree"},{default:Object(r.withCtx)((function(){return[b]})),_:1})]})),_:1},8,["modelValue"])]})),_:1})]})),_:1}),Object(r.createVNode)(A,{xs:24,md:12,xl:12},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(L,{class:"ma-inline-form-item",prop:"menu_name"},{label:Object(r.withCtx)((function(){return[h,Object(r.createVNode)(F,{content:"比如，用户管理"},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(R,null,{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(P)]})),_:1})]})),_:1})]})),default:Object(r.withCtx)((function(){return[Object(r.createVNode)(I,{modelValue:E.form.menu_name,"onUpdate:modelValue":t[6]||(t[6]=function(e){return E.form.menu_name=e})},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),Object(r.createVNode)(q,{gutter:24},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(A,{xs:24,md:12,xl:12},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(L,{prop:"package_name"},{label:Object(r.withCtx)((function(){return[m,Object(r.createVNode)(F,{content:"控制器文件所在目录名，比如：permission"},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(R,null,{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(P)]})),_:1})]})),_:1})]})),default:Object(r.withCtx)((function(){return[Object(r.createVNode)(I,{modelValue:E.form.package_name,"onUpdate:modelValue":t[7]||(t[7]=function(e){return E.form.package_name=e})},null,8,["modelValue"])]})),_:1})]})),_:1}),Object(r.createVNode)(A,{xs:24,md:12,xl:12},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(L,{prop:"generate_type"},{label:Object(r.withCtx)((function(){return[f,Object(r.createVNode)(F,null,{content:Object(r.withCtx)((function(){return[p,O,j,_,g,V,w,C]})),default:Object(r.withCtx)((function(){return[Object(r.createVNode)(R,null,{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(P)]})),_:1})]})),_:1})]})),default:Object(r.withCtx)((function(){return[Object(r.createVNode)(z,{modelValue:E.form.generate_type,"onUpdate:modelValue":t[8]||(t[8]=function(e){return E.form.generate_type=e}),onChange:$.handleChangeGenType},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(H,{label:"0"},{default:Object(r.withCtx)((function(){return[x]})),_:1}),Object(r.createVNode)(H,{label:"1"},{default:Object(r.withCtx)((function(){return[N]})),_:1})]})),_:1},8,["modelValue","onChange"])]})),_:1})]})),_:1})]})),_:1}),"tree"===E.form.type?(Object(r.openBlock)(),Object(r.createBlock)(q,{key:0},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(D,{"content-position":"left"},{default:Object(r.withCtx)((function(){return[v]})),_:1}),Object(r.createVNode)(A,{xs:24,md:8,xl:8},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(L,{prop:"tree_id"},{label:Object(r.withCtx)((function(){return[y,Object(r.createVNode)(F,{content:"一般为主键ID"},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(R,null,{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(P)]})),_:1})]})),_:1})]})),default:Object(r.withCtx)((function(){return[Object(r.createVNode)(K,{modelValue:E.tree_id,"onUpdate:modelValue":t[9]||(t[9]=function(e){return E.tree_id=e}),placeholder:"请选择树主ID字段",style:{width:"100%"}},{default:Object(r.withCtx)((function(){return[(Object(r.openBlock)(!0),Object(r.createElementBlock)(r.Fragment,null,Object(r.renderList)(E.columns,(function(e,t){return Object(r.openBlock)(),Object(r.createBlock)(G,{key:t,label:e.column_name+" - "+e.column_comment,value:e.column_name},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1})]})),_:1}),Object(r.createVNode)(A,{xs:24,md:8,xl:8},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(L,{prop:"tree_parent_id"},{label:Object(r.withCtx)((function(){return[k,Object(r.createVNode)(F,{content:"树节点的父ID，比如：parent_id"},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(R,null,{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(P)]})),_:1})]})),_:1})]})),default:Object(r.withCtx)((function(){return[Object(r.createVNode)(K,{modelValue:E.tree_parent_id,"onUpdate:modelValue":t[10]||(t[10]=function(e){return E.tree_parent_id=e}),placeholder:"请选择树父ID字段",style:{width:"100%"}},{default:Object(r.withCtx)((function(){return[(Object(r.openBlock)(!0),Object(r.createElementBlock)(r.Fragment,null,Object(r.renderList)(E.columns,(function(e,t){return Object(r.openBlock)(),Object(r.createBlock)(G,{key:t,label:e.column_name+" - "+e.column_comment,value:e.column_name},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1})]})),_:1}),Object(r.createVNode)(A,{xs:24,md:8,xl:8},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(L,{prop:"tree_name"},{label:Object(r.withCtx)((function(){return[T,Object(r.createVNode)(F,{content:"树显示的名称字段，比如：name"},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(R,null,{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(P)]})),_:1})]})),_:1})]})),default:Object(r.withCtx)((function(){return[Object(r.createVNode)(K,{modelValue:E.tree_name,"onUpdate:modelValue":t[11]||(t[11]=function(e){return E.tree_name=e}),placeholder:"请选择树名称字段",style:{width:"100%"}},{default:Object(r.withCtx)((function(){return[(Object(r.openBlock)(!0),Object(r.createElementBlock)(r.Fragment,null,Object(r.renderList)(E.columns,(function(e,t){return Object(r.openBlock)(),Object(r.createBlock)(G,{key:t,label:e.column_name+" - "+e.column_comment,value:e.column_name},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1})]})),_:1})]})),_:1})):Object(r.createCommentVNode)("",!0)]})),_:1}),Object(r.createVNode)(J,{label:"字段管理",name:"field"},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(W,{data:E.columns,"empty-text":"表中无字段..."},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(Q,{prop:"sort",label:"排序"},{default:Object(r.withCtx)((function(e){return[Object(r.createVNode)(I,{modelValue:e.row.sort,"onUpdate:modelValue":function(t){return e.row.sort=t},clearable:"",placeholder:"排序"},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),Object(r.createVNode)(Q,{prop:"column_name",label:"字段名称"}),Object(r.createVNode)(Q,{prop:"column_comment",label:"字段描述"},{default:Object(r.withCtx)((function(e){return[Object(r.createVNode)(I,{modelValue:e.row.column_comment,"onUpdate:modelValue":function(t){return e.row.column_comment=t},clearable:"",placeholder:"注释"},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),Object(r.createVNode)(Q,{prop:"column_type",label:"物理类型"}),Object(r.createVNode)(Q,{prop:"is_required",label:"必填",width:"60"},{default:Object(r.withCtx)((function(e){return[Object(r.createVNode)(Y,{"true-label":"1","false-label":"0",modelValue:e.row.is_required,"onUpdate:modelValue":function(t){return e.row.is_required=t}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),Object(r.createVNode)(Q,{prop:"is_insert",label:"插入",width:"60"},{default:Object(r.withCtx)((function(e){return[Object(r.createVNode)(Y,{"true-label":"1","false-label":"0",modelValue:e.row.is_insert,"onUpdate:modelValue":function(t){return e.row.is_insert=t}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),Object(r.createVNode)(Q,{prop:"is_edit",label:"编辑",width:"60"},{default:Object(r.withCtx)((function(e){return[Object(r.createVNode)(Y,{"true-label":"1","false-label":"0",modelValue:e.row.is_edit,"onUpdate:modelValue":function(t){return e.row.is_edit=t}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),Object(r.createVNode)(Q,{prop:"is_list",label:"列表",width:"60"},{default:Object(r.withCtx)((function(e){return[Object(r.createVNode)(Y,{"true-label":"1","false-label":"0",modelValue:e.row.is_list,"onUpdate:modelValue":function(t){return e.row.is_list=t}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),Object(r.createVNode)(Q,{prop:"is_query",label:"查询",width:"60"},{default:Object(r.withCtx)((function(e){return[Object(r.createVNode)(Y,{"true-label":"1","false-label":"0",modelValue:e.row.is_query,"onUpdate:modelValue":function(t){return e.row.is_query=t}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),Object(r.createVNode)(Q,{prop:"query_type",label:"查询方式"},{default:Object(r.withCtx)((function(e){return[Object(r.createVNode)(K,{modelValue:e.row.query_type,"onUpdate:modelValue":function(t){return e.row.query_type=t},placeholder:"请选择查询方式",style:{width:"100%"}},{default:Object(r.withCtx)((function(){return[(Object(r.openBlock)(!0),Object(r.createElementBlock)(r.Fragment,null,Object(r.renderList)(E.queryType,(function(e,t){return Object(r.openBlock)(),Object(r.createBlock)(G,{key:t,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:2},1032,["modelValue","onUpdate:modelValue"])]})),_:1}),Object(r.createVNode)(Q,{prop:"view_type",label:"页面控件"},{default:Object(r.withCtx)((function(e){return[Object(r.createVNode)(K,{modelValue:e.row.view_type,"onUpdate:modelValue":function(t){return e.row.view_type=t},placeholder:"请选择页面控件",style:{width:"100%"}},{default:Object(r.withCtx)((function(){return[(Object(r.openBlock)(!0),Object(r.createElementBlock)(r.Fragment,null,Object(r.renderList)(E.viewComponent,(function(e,t){return Object(r.openBlock)(),Object(r.createBlock)(G,{key:t,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:2},1032,["modelValue","onUpdate:modelValue"])]})),_:1}),Object(r.createVNode)(Q,{prop:"dict_type",label:"数据字典"},{default:Object(r.withCtx)((function(e){return[Object(r.createVNode)(K,{modelValue:e.row.dict_type,"onUpdate:modelValue":function(t){return e.row.dict_type=t},placeholder:"请选择数据字典",style:{width:"100%"},clearable:""},{default:Object(r.withCtx)((function(){return[(Object(r.openBlock)(!0),Object(r.createElementBlock)(r.Fragment,null,Object(r.renderList)(E.dict,(function(e,t){return Object(r.openBlock)(),Object(r.createBlock)(G,{key:t,label:e.name,value:e.code},null,8,["label","value"])})),128))]})),_:2},1032,["modelValue","onUpdate:modelValue"])]})),_:1})]})),_:1},8,["data"])]})),_:1})]})),_:1},8,["modelValue"]),Object(r.createElementVNode)("div",B,[Object(r.createVNode)(Z,{type:"primary",onClick:$.handleSubmit,loading:E.saveLoading},{default:Object(r.withCtx)((function(){return[S]})),_:1},8,["onClick","loading"]),Object(r.createVNode)(Z,{onClick:$.handleClose},{default:Object(r.withCtx)((function(){return[U]})),_:1},8,["onClick"])])]})),_:1},8,["model","rules"])]})),_:1},8,["modelValue"])}],["__scopeId","data-v-2a871063"]]);t.default=I},"130b":function(e,t,n){"use strict";n("ee06")},4697:function(e,t,n){"use strict";n.r(t);n("b0c0");var r=n("7a23"),o=Object(r.createTextVNode)("搜索"),c=Object(r.createTextVNode)("重置"),a=Object(r.createTextVNode)("关 闭"),l=Object(r.createTextVNode)("确 定");n("d81d");var i={emits:["confirm"],data:function(){return{api:{list:this.$API.dataMaintain.getPageList},queryParams:{name:void 0},dialogVisible:!1,names:[]}},methods:{show:function(){this.dialogVisible=!0,this.names=[]},loadTable:function(){var e=this;this.$API.generate.loadTable({names:this.names}).then((function(t){t.success&&(e.handleDialogClose(),e.$emit("confirm"))}))},handleDialogClose:function(){this.dialogVisible=!1},selectionChange:function(e){e.length>0?this.names=e.map((function(e){return{name:e.name,comment:e.comment}})):this.names=[]},handleSearch:function(){this.$refs.table.upData(this.queryParams)},resetSearch:function(){this.$refs.queryParams.resetFields(),this.handleSearch()}}},u=n("6b0d");const s=n.n(u)()(i,[["render",function(e,t,n,i,u,s){var d=Object(r.resolveComponent)("el-input"),b=Object(r.resolveComponent)("el-form-item"),h=Object(r.resolveComponent)("el-button"),m=Object(r.resolveComponent)("el-form"),f=Object(r.resolveComponent)("el-table-column"),p=Object(r.resolveComponent)("maTable"),O=Object(r.resolveComponent)("el-dialog");return Object(r.openBlock)(),Object(r.createBlock)(O,{title:"装载数据表",modelValue:u.dialogVisible,"onUpdate:modelValue":t[1]||(t[1]=function(e){return u.dialogVisible=e}),width:"800px","before-close":s.handleDialogClose},{footer:Object(r.withCtx)((function(){return[Object(r.createVNode)(h,{onClick:s.handleDialogClose,size:"small"},{default:Object(r.withCtx)((function(){return[a]})),_:1},8,["onClick"]),Object(r.createVNode)(h,{type:"primary",onClick:s.loadTable,size:"small"},{default:Object(r.withCtx)((function(){return[l]})),_:1},8,["onClick"])]})),default:Object(r.withCtx)((function(){return[Object(r.createVNode)(m,{inline:!0,ref:"queryParams",model:u.queryParams,"label-width":"40px"},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(b,{label:"表名",class:"ma-inline-form-item",prop:"name"},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(d,{size:"small",modelValue:u.queryParams.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return u.queryParams.name=e}),placeholder:"请输入表名"},null,8,["modelValue"])]})),_:1}),Object(r.createVNode)(b,{class:"ma-inline-form-item"},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(h,{size:"small",type:"primary",onClick:s.handleSearch,icon:"el-icon-search"},{default:Object(r.withCtx)((function(){return[o]})),_:1},8,["onClick"]),Object(r.createVNode)(h,{size:"small",type:"default",onClick:s.resetSearch,icon:"el-icon-refresh"},{default:Object(r.withCtx)((function(){return[c]})),_:1},8,["onClick"])]})),_:1})]})),_:1},8,["model"]),Object(r.createVNode)(p,{ref:"table",api:u.api,rowKey:"name",onSelectionChange:s.selectionChange,stripe:"",remoteSort:"",remoteFilter:""},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(f,{type:"selection",width:"50"}),Object(r.createVNode)(f,{label:"表名称",prop:"name",width:"180","show-overflow-tooltip":!0}),Object(r.createVNode)(f,{prop:"comment",label:"表注释","show-overflow-tooltip":!0}),Object(r.createVNode)(f,{label:"创建时间",prop:"created_at",width:"160"},{default:Object(r.withCtx)((function(e){return[Object(r.createTextVNode)(Object(r.toDisplayString)(e.row.create_time.substr(0,10)),1)]})),_:1})]})),_:1},8,["api","onSelectionChange"])]})),_:1},8,["modelValue","before-close"])}]]);t.default=s},"6b24":function(e,t,n){"use strict";n("7096")},"6dd0":function(e,t,n){"use strict";var r=n("7a23"),o={class:"code-container"},c=["innerHTML"],a=Object(r.createTextVNode)("复制");var l=n("1da1"),i=(n("d3b7"),n("e9c4"),n("ac1f"),n("5319"),n("1276"),n("159b"),n("466d"),n("fb6a"),n("a434"),n("a15b"),n("498a"),n("96cf"),n("e6a9")),u=n.n(i),s=n("1487"),d=n.n(s),b=(n("4d63"),n("c607"),n("2c3e"),n("25f0"),function(e){var t=["__dataHolder_",[Math.random(),Math.random(),Math.random(),Math.random()].join("_").replace(/[^0-9]/g,"_"),"_"].join("_"),n={},r=0;return e=(e=function(e,t,n,r){var o;for((o=new function(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.Utils={whitespace:"\n\r\t ".split(""),single_token:"br,input,link,meta,!doctype,basefont,base,area,hr,wbr,param,img,isindex,?xml,embed".split(","),extra_liners:"head,body,/html".split(","),in_array:function(e,t){for(var n=0;n<t.length;n++)if(e===t[n])return!0;return!1}},this.get_content=function(){for(var e="",t=[],n=!1;"<"!==this.input.charAt(this.pos);){if(this.pos>=this.input.length)return t.length?t.join(""):["","TK_EOF"];if(e=this.input.charAt(this.pos),this.pos++,this.line_char_count++,this.Utils.in_array(e,this.Utils.whitespace))t.length&&(n=!0),this.line_char_count--;else{if(n){if(this.line_char_count>=this.max_char){t.push("\n");for(var r=0;r<this.indent_level;r++)t.push(this.indent_string);this.line_char_count=0}else t.push(" "),this.line_char_count++;n=!1}t.push(e)}}return t.length?t.join(""):""},this.get_script=function(){var e="",t=[],n=new RegExp("<\/script>","igm");n.lastIndex=this.pos;for(var r=n.exec(this.input),o=r?r.index:this.input.length;this.pos<o;){if(this.pos>=this.input.length)return t.length?t.join(""):["","TK_EOF"];e=this.input.charAt(this.pos),this.pos++,t.push(e)}return t.length?t.join(""):""},this.record_tag=function(e){this.tags[e+"count"]?(this.tags[e+"count"]++,this.tags[e+this.tags[e+"count"]]=this.indent_level):(this.tags[e+"count"]=1,this.tags[e+this.tags[e+"count"]]=this.indent_level),this.tags[e+this.tags[e+"count"]+"parent"]=this.tags.parent,this.tags.parent=e+this.tags[e+"count"]},this.retrieve_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!==t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]],this.tags.parent=this.tags[t+"parent"]),delete this.tags[e+this.tags[e+"count"]+"parent"],delete this.tags[e+this.tags[e+"count"]],1==this.tags[e+"count"]?delete this.tags[e+"count"]:this.tags[e+"count"]--}},this.get_tag=function(){var e="",t=[],n=!1;do{if(this.pos>=this.input.length)return t.length?t.join(""):["","TK_EOF"];e=this.input.charAt(this.pos),this.pos++,this.line_char_count++,this.Utils.in_array(e,this.Utils.whitespace)?(n=!0,this.line_char_count--):("'"!==e&&'"'!==e||t[1]&&"!"===t[1]||(e+=this.get_unformatted(e),n=!0),"="===e&&(n=!1),t.length&&"="!==t[t.length-1]&&">"!==e&&n&&(this.line_char_count>=this.max_char?(this.print_newline(!1,t),this.line_char_count=0):(t.push(" "),this.line_char_count++),n=!1),t.push(e))}while(">"!==e);var r,o=t.join("");r=-1!=o.indexOf(" ")?o.indexOf(" "):o.indexOf(">");var c=o.substring(1,r).toLowerCase();if("/"===o.charAt(o.length-2)||this.Utils.in_array(c,this.Utils.single_token))this.tag_type="SINGLE";else if("script"===c)this.record_tag(c),this.tag_type="SCRIPT";else if("style"===c)this.record_tag(c),this.tag_type="STYLE";else if("!"===c.charAt(0))if(-1!=c.indexOf("[if")){if(-1!=o.indexOf("!IE")){var a=this.get_unformatted("--\x3e",o);t.push(a)}this.tag_type="START"}else-1!=c.indexOf("[endif")?(this.tag_type="END",this.unindent()):-1!=c.indexOf("[cdata[")?(a=this.get_unformatted("]]>",o),t.push(a),this.tag_type="SINGLE"):(a=this.get_unformatted("--\x3e",o),t.push(a),this.tag_type="SINGLE");else"/"===c.charAt(0)?(this.retrieve_tag(c.substring(1)),this.tag_type="END"):(this.record_tag(c),this.tag_type="START"),this.Utils.in_array(c,this.Utils.extra_liners)&&this.print_newline(!0,this.output);return t.join("")},this.get_unformatted=function(e,t){if(t&&-1!=t.indexOf(e))return"";var n="",r="",o=!0;do{if(n=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(n,this.Utils.whitespace)){if(!o){this.line_char_count--;continue}if("\n"===n||"\r"===n){r+="\n";for(var c=0;c<this.indent_level;c++)r+=this.indent_string;o=!1,this.line_char_count=0;continue}}r+=n,this.line_char_count++,o=!0}while(-1==r.indexOf(e));return r},this.get_token=function(){var e;if("TK_TAG_SCRIPT"===this.last_token){var t=this.get_script();return"string"!=typeof t?t:[t,"TK_CONTENT"]}return"CONTENT"===this.current_mode?"string"!=typeof(e=this.get_content())?e:[e,"TK_CONTENT"]:"TAG"===this.current_mode?"string"!=typeof(e=this.get_tag())?e:[e,"TK_TAG_"+this.tag_type]:void 0},this.printer=function(e,t,n,r){this.input=e||"",this.output=[],this.indent_character=t||" ",this.indent_string="",this.indent_size=n||2,this.indent_level=0,this.max_char=r||70,this.line_char_count=0;for(var o=0;o<this.indent_size;o++)this.indent_string+=this.indent_character;this.print_newline=function(e,t){if(this.line_char_count=0,t&&t.length){if(!e)for(;this.Utils.in_array(t[t.length-1],this.Utils.whitespace);)t.pop();t.push("\n");for(var n=0;n<this.indent_level;n++)t.push(this.indent_string)}},this.print_token=function(e){this.output.push(e)},this.indent=function(){this.indent_level++},this.unindent=function(){this.indent_level>0&&this.indent_level--}},this}).printer(e,n,t);;){var c=o.get_token();if(o.token_text=c[0],o.token_type=c[1],"TK_EOF"===o.token_type)break;switch(o.token_type){case"TK_TAG_START":case"TK_TAG_SCRIPT":case"TK_TAG_STYLE":o.print_newline(!1,o.output),o.print_token(o.token_text),o.indent(),o.current_mode="CONTENT";break;case"TK_TAG_END":o.print_newline(!0,o.output),o.print_token(o.token_text),o.current_mode="CONTENT";break;case"TK_TAG_SINGLE":o.print_newline(!1,o.output),o.print_token(o.token_text),o.current_mode="CONTENT";break;case"TK_CONTENT":""!==o.token_text&&(o.print_newline(!1,o.output),o.print_token(o.token_text)),o.current_mode="TAG"}o.last_token=o.token_type,o.last_text=o.token_text}return o.output.join("")}(e=e.replace(/(\")(data:[^\"]*)(\")/g,(function(e,o,c,a){var l=t+r++;return n[l]=c,o+l+a})),2," ")).replace(new RegExp(t+"[0-9]+","g"),(function(e){return n[e]}))}),h=(n("d2ee"),{name:"maHighlight",props:{code:{type:String,required:!1,default:""},formatHtml:{type:Boolean,required:!1,default:!1},lang:{type:String,required:!1,default:""}},data:function(){return{highlightHTML:""}},mounted:function(){this.highlight()},watch:{code:function(){this.highlight()}},methods:{copy:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u()().toClipboard(e.code);case 3:e.$message.success(e.$t("sys.copy_success")),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),e.$message.error(e.$t("sys.copy_fail"));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},highlight:function(){var e=this.formatHtml?b(this.code):this.code;e="json"===this.lang?this.formatJson(e):e,this.highlightHTML=d.a.highlightAuto(e,[this.lang,"html","javascript","json","css","scss","less"]).value},transitionJsonToString:function(e,t){var n=null;if("[object String]"!==Object.prototype.toString.call(e))try{n=JSON.stringify(e)}catch(e){console.error("您传递的json数据格式有误，请核对..."),console.error(e),t(e)}else try{if(""==e||null==e)return"{}";e=e.replace(/(\')/g,'"'),n=JSON.stringify(JSON.parse(e))}catch(e){console.error("您传递的json数据格式有误，请核对..."),console.error(e),t(e)}return n},formatJson:function(e,t){var n="",r=0,o=this.transitionJsonToString(e,t);if(!o)return o;var c=[],a=null,l=null,i=[];return o=(o=(o=(o=(o=o.replace(/([\{\}])/g,"\r\n$1\r\n")).replace(/([\[\]])/g,"\r\n$1\r\n")).replace(/(\,)/g,"$1\r\n")).replace(/(\r\n\r\n)/g,"\r\n")).replace(/\r\n\,/g,","),(i=o.split("\r\n")).forEach((function(e,t){var n=e.match(/\"/g)?e.match(/\"/g).length:0;n%2&&!a&&(a=t),n%2&&a&&a!=t&&(l=t),a&&l&&(c.push({start:a,end:l}),a=null,l=null)})),c.reverse().forEach((function(e){var t=i.slice(e.start,e.end+1);i.splice(e.start,e.end+1-e.start,t.join(""))})),o=(o=(o=i.join("\r\n")).replace(/\:\r\n\{/g,":{")).replace(/\:\r\n\[/g,":["),(i=o.split("\r\n")).forEach((function(e){var t=0,o=0,c="";for(e.match(/\{$/)||e.match(/\[$/)?o+=1:e.match(/\}$/)||e.match(/\]$/)||e.match(/\},$/)||e.match(/\],$/)?0!==r&&(r-=1):o=0,t=0;t<r;t++)c+="    ";n+=c+e+"\r\n",r+=o})),n.trim()}}}),m=(n("130b"),n("6b0d"));const f=n.n(m)()(h,[["render",function(e,t,n,l,i,u){var s=Object(r.resolveComponent)("el-button");return Object(r.openBlock)(),Object(r.createElementBlock)("div",o,[Object(r.createElementVNode)("pre",{class:"ma-highlight hljs",innerHTML:i.highlightHTML},null,8,c),Object(r.createVNode)(s,{type:"primary",class:"copy-btn",onClick:u.copy},{default:Object(r.withCtx)((function(){return[a]})),_:1},8,["onClick"])])}],["__scopeId","data-v-5fbc9de3"]]);t.a=f},7096:function(e,t,n){},"945e":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),o={class:"left-panel"},c=Object(r.createTextVNode)("生成代码"),a=Object(r.createTextVNode)("装载数据表"),l=Object(r.createTextVNode)("删除"),i={class:"right-panel"},u={class:"right-panel-search"},s=Object(r.createTextVNode)("单表CRUD"),d=Object(r.createTextVNode)("树表CRUD"),b=Object(r.createTextVNode)("父子表CRUD"),h=Object(r.createTextVNode)("预览"),m=Object(r.createTextVNode)(" 更多"),f=Object(r.createElementVNode)("i",{class:"el-icon-arrow-down el-icon--right"},null,-1),p=Object(r.createTextVNode)("编辑"),O=Object(r.createTextVNode)("同步"),j=Object(r.createTextVNode)("生成代码"),_=Object(r.createTextVNode)("删除");var g=n("1da1"),V=(n("96cf"),n("d81d"),n("a15b"),n("0458")),w=n("4697"),C=n("b879"),x={name:"setting:code",components:{tableList:w.default,editForm:V.default,preview:C.default},data:function(){return{api:{list:this.$API.generate.getPageList},queryParams:{table_name:void 0},selection:[]}},methods:{selectionChange:function(e){this.selection=e},confirm:function(){this.handleSuccess()},handleGenCodes:function(){var e=this;return Object(g.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.selection.map((function(e){return e.id})),e.$message.info("代码生成下载中，请稍后"),e.generateCode(n);case 3:case"end":return t.stop()}}),t)})))()},generateCode:function(e){var t=this;return Object(g.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.$message.info("代码生成下载中，请稍后"),n.next=3,t.$API.generate.generate(e).then((function(e){e.message&&!e.success?t.$message.error(e.message):(t.$TOOL.download(e),t.$message.success("代码生成成功"))}));case 3:case"end":return n.stop()}}),n)})))()},handleDeleteBatch:function(){var e=this;return Object(g.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.selection.length>0)){t.next=6;break}return n=e.selection.map((function(e){return e.id})),t.next=4,e.handleDelete(n.join(","));case 4:t.next=7;break;case 6:e.$message.error("请选择要删除的项");case 7:case"end":return t.stop()}}),t)})))()},handleDelete:function(e){var t=this;this.$confirm("此操作会将数据物理删除？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$API.generate.deletes(e).then((function(e){t.$message.success(e.message),t.handleSuccess()}))}))},handleSync:function(e){var t=this;this.$confirm("此操作会导致字段设置信息丢失，确定同步吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$API.generate.sync(e).then((function(e){e.success&&t.$message.success(e.message),e.success||t.$message.error(e.message)}))}))},handlerSearch:function(){this.handleSuccess()},resetSearch:function(){this.queryParams={table_name:void 0},this.handleSuccess()},handleSuccess:function(){this.$refs.table.upData(this.queryParams)}}},N=n("6b0d");const v=n.n(N)()(x,[["render",function(e,t,n,g,V,w){var C=Object(r.resolveComponent)("el-button"),x=Object(r.resolveComponent)("el-input"),N=Object(r.resolveComponent)("el-tooltip"),v=Object(r.resolveComponent)("el-header"),y=Object(r.resolveComponent)("el-table-column"),k=Object(r.resolveComponent)("el-tag"),T=Object(r.resolveComponent)("el-dropdown-item"),B=Object(r.resolveComponent)("el-dropdown-menu"),S=Object(r.resolveComponent)("el-dropdown"),U=Object(r.resolveComponent)("maTable"),E=Object(r.resolveComponent)("el-main"),$=Object(r.resolveComponent)("el-container"),D=Object(r.resolveComponent)("table-list"),I=Object(r.resolveComponent)("edit-form"),L=Object(r.resolveComponent)("preview"),A=Object(r.resolveDirective)("auth");return Object(r.openBlock)(),Object(r.createElementBlock)(r.Fragment,null,[Object(r.createVNode)($,null,{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(v,null,{default:Object(r.withCtx)((function(){return[Object(r.createElementVNode)("div",o,[Object(r.withDirectives)(Object(r.createVNode)(C,{type:"primary",plain:"",icon:"el-icon-download",disabled:V.selection.length<1,onClick:w.handleGenCodes},{default:Object(r.withCtx)((function(){return[c]})),_:1},8,["disabled","onClick"]),[[A,["setting:code:generate"]]]),Object(r.withDirectives)(Object(r.createVNode)(C,{type:"success",plain:"",icon:"el-icon-upload",onClick:t[0]||(t[0]=function(t){return e.$refs.tableList.show()})},{default:Object(r.withCtx)((function(){return[a]})),_:1},512),[[A,["setting:code:loadTable"]]]),Object(r.withDirectives)(Object(r.createVNode)(C,{type:"danger",icon:"el-icon-delete",disabled:V.selection.length<1,onClick:w.handleDeleteBatch},{default:Object(r.withCtx)((function(){return[l]})),_:1},8,["disabled","onClick"]),[[A,["setting:code:delete"]]])]),Object(r.createElementVNode)("div",i,[Object(r.createElementVNode)("div",u,[Object(r.createVNode)(x,{modelValue:V.queryParams.table_name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return V.queryParams.table_name=e}),placeholder:"表名称",clearable:""},null,8,["modelValue"]),Object(r.createVNode)(N,{class:"item",effect:"dark",content:"搜索",placement:"top"},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(C,{type:"primary",icon:"el-icon-search",onClick:w.handlerSearch},null,8,["onClick"])]})),_:1}),Object(r.createVNode)(N,{class:"item",effect:"dark",content:"清空条件",placement:"top"},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(C,{icon:"el-icon-refresh",onClick:w.resetSearch},null,8,["onClick"])]})),_:1})])])]})),_:1}),Object(r.createVNode)(E,{class:"nopadding"},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(U,{ref:"table",api:V.api,onSelectionChange:w.selectionChange,stripe:""},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(y,{type:"selection",width:"50"}),Object(r.createVNode)(y,{label:"表名称",prop:"table_name",width:"180"}),Object(r.createVNode)(y,{label:"表描述",prop:"table_comment","show-overflow-tooltip":!0}),Object(r.createVNode)(y,{label:"生成类型",prop:"type",width:"150"},{default:Object(r.withCtx)((function(e){return["single"===e.row.type?(Object(r.openBlock)(),Object(r.createBlock)(k,{key:0},{default:Object(r.withCtx)((function(){return[s]})),_:1})):Object(r.createCommentVNode)("",!0),"tree"===e.row.type?(Object(r.openBlock)(),Object(r.createBlock)(k,{key:1},{default:Object(r.withCtx)((function(){return[d]})),_:1})):Object(r.createCommentVNode)("",!0),"parent_sub"===e.row.type?(Object(r.openBlock)(),Object(r.createBlock)(k,{key:2},{default:Object(r.withCtx)((function(){return[b]})),_:1})):Object(r.createCommentVNode)("",!0)]})),_:1}),Object(r.createVNode)(y,{label:"创建时间",prop:"created_at",width:"160"}),Object(r.createVNode)(y,{label:"更新时间",prop:"updated_at",width:"160"}),Object(r.createVNode)(y,{label:"操作",fixed:"right",align:"right",width:"130"},{default:Object(r.withCtx)((function(t){return[Object(r.withDirectives)(Object(r.createVNode)(C,{type:"text",onClick:function(n){return e.$refs.preview.show(t.row.id)}},{default:Object(r.withCtx)((function(){return[h]})),_:2},1032,["onClick"]),[[A,["setting:code:preview"]]]),"superAdmin"!==t.row.username?(Object(r.openBlock)(),Object(r.createBlock)(S,{key:0},{dropdown:Object(r.withCtx)((function(){return[Object(r.createVNode)(B,null,{default:Object(r.withCtx)((function(){return[Object(r.withDirectives)(Object(r.createVNode)(T,{onClick:function(n){return e.$refs.editForm.show(t.row)}},{default:Object(r.withCtx)((function(){return[p]})),_:2},1032,["onClick"]),[[A,["setting:code:edit"]]]),Object(r.withDirectives)(Object(r.createVNode)(T,{onClick:function(e){return w.handleSync(t.row.id)}},{default:Object(r.withCtx)((function(){return[O]})),_:2},1032,["onClick"]),[[A,["setting:code:sync"]]]),Object(r.withDirectives)(Object(r.createVNode)(T,{onClick:function(e){return w.generateCode(t.row.id)}},{default:Object(r.withCtx)((function(){return[j]})),_:2},1032,["onClick"]),[[A,["setting:code:generate"]]]),Object(r.withDirectives)(Object(r.createVNode)(T,{onClick:function(e){return w.handleDelete(t.row.id)},divided:""},{default:Object(r.withCtx)((function(){return[_]})),_:2},1032,["onClick"]),[[A,["setting:code:delete"]]])]})),_:2},1024)]})),default:Object(r.withCtx)((function(){return[Object(r.createVNode)(C,{type:"text"},{default:Object(r.withCtx)((function(){return[m,f]})),_:1})]})),_:2},1024)):Object(r.createCommentVNode)("",!0)]})),_:1})]})),_:1},8,["api","onSelectionChange"])]})),_:1})]})),_:1}),Object(r.createVNode)(D,{ref:"tableList",onConfirm:w.confirm},null,8,["onConfirm"]),Object(r.createVNode)(I,{ref:"editForm",onConfirm:w.confirm},null,8,["onConfirm"]),Object(r.createVNode)(L,{ref:"preview"},null,512)],64)}]]);t.default=v},b879:function(e,t,n){"use strict";n.r(t);n("b0c0");var r=n("7a23");var o=n("1da1"),c=(n("96cf"),{components:{maHighlight:n("6dd0").a},data:function(){return{dialogVisible:!1,activeName:"controller",previewCode:[]}},methods:{show:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.activeName="controller",n.next=3,t.$API.generate.preview({id:e}).then((function(e){e.success?(t.previewCode=e.data,t.dialogVisible=!0):t.$message.error(e.message)}));case 3:case"end":return n.stop()}}),n)})))()},handleDialogClose:function(){this.dialogVisible=!1}}}),a=n("6b0d");const l=n.n(a)()(c,[["render",function(e,t,n,o,c,a){var l=Object(r.resolveComponent)("el-alert"),i=Object(r.resolveComponent)("ma-highlight"),u=Object(r.resolveComponent)("el-tab-pane"),s=Object(r.resolveComponent)("el-tabs"),d=Object(r.resolveComponent)("el-dialog");return Object(r.openBlock)(),Object(r.createBlock)(d,{title:"预览代码",modelValue:c.dialogVisible,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.dialogVisible=e}),width:"1220px","before-close":a.handleDialogClose},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(s,{modelValue:c.activeName,"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.activeName=e})},{default:Object(r.withCtx)((function(){return[(Object(r.openBlock)(!0),Object(r.createElementBlock)(r.Fragment,null,Object(r.renderList)(c.previewCode,(function(e,t){return Object(r.openBlock)(),Object(r.createBlock)(u,{key:t,label:e.tab_name,name:e.name},{default:Object(r.withCtx)((function(){return["model"===e.name?(Object(r.openBlock)(),Object(r.createBlock)(l,{key:0,title:"说明",type:"info",closable:!1,description:"模型类预览的代码与实际生成的代码会稍微不同",style:{"margin-bottom":"10px"}})):Object(r.createCommentVNode)("",!0),Object(r.createVNode)(i,{code:e.code,lang:e.lang},null,8,["code","lang"])]})),_:2},1032,["label","name"])})),128))]})),_:1},8,["modelValue"])]})),_:1},8,["modelValue","before-close"])}]]);t.default=l},d2ee:function(e,t,n){},ee06:function(e,t,n){}}]);